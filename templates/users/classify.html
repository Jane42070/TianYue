<!DOCTYPE html>
<!-- cSpell:disable -->
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>分类</title>
	<link rel="stylesheet" href="/static/css/scrollbar.css" type="text/css" media="all">
	<script src="/static/js/jquery-3.4.1.min.js"></script>
	<script type="text/javascript" id="">
		$(function () {
			var $div = $('#logout')
			var $uimage = $('#uimage')
			var $totop = $('.totop')
			var $types = $('.btypes ul')
			var $btn = $('.btypes .fold')

			$uimage.mouseover(function () {
				$div.stop().animate({'left': 0})
			}).mouseout(function () {
				setTimeout(function () {$div.stop().animate({'left': -50})}, 3000)
			})

			$btn.click(function () {
				if ($btn.parent().height() == 74) {
					$btn.html('折叠').parent().stop().animate({
						'height': '150px',
					})
				}
				else {
					$btn.html('展开').parent().stop().animate({
						'height': '74px',
					})
				}
			})

			$(window).scroll(function () {
				if ($('html,body').scrollTop() >= 68) {
					$totop.stop().fadeIn().click(function () {
						$('html,body').stop().animate({'scrollTop': 0})
					})
				}
				else if ($('html,body').scrollTop() < 68) {
					$totop.stop().fadeOut()
				}
			})
		})
	</script>
	<style type="text/css" media="screen">
		body {
			margin: 0;
			padding: 0;
			overflow-x: hidden;
			background-color: #f0f0f0;
			font-family: 'Microsoft Yahei';
			font-size: 16px;
		}

		.box {
			width: 100%;
			height: 68px;
			min-width: 100%;
			background-color: rgba(255, 255, 255, 1);
			position: fixed;
			top: 0;
			box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.9);
			z-index: 90;
		}

		.box .NavigationBar {
			width: 1000px;
			margin: 0 auto;
		}

		.box a img {
			position: relative;
			top: -1.5em;
		}

		.box ul {
			padding-left: 12em;
			display: inline-block;
		}

		.box ul li {
			float: left;
			margin: 0 10px;
		}

		.box ul li .search_book {
			width: 150px;
			height: 20px;
			margin: 22px 0;
			border-radius: 20px;
			border: 1px solid #9e9e9e;
			padding-inline-start: 10px;
			font-size: 14px;
			color: #9e9e9e;
			outline: none;
		}

		.button {
			text-decoration: none;
			font-size: 16px;
			line-height: 68px;
			color: #9e9e9e;
			text-align: center;
			padding: 5px;
		}

		.button:hover {
			color: #f26552;
			border-bottom: 2px solid #f26552;
		}

		input {
			width: 150px;
			height: 20px;
			margin: 22px 0;
			border-radius: 20px;
			border: 1px solid #9e9e9e;
			padding-inline-start: 10px;
			font-size: 14px;
			color: #9e9e9e;
			outline: none;
		}

		.islogin {
			float: left;
			padding-top: 20px;
		}

		.islogin .login_beffor {
			padding: 0 0.4em;
			height: 25px;
			line-height: 25px;
			background: #FFF;
			text-align: center;
			font-size: 12px;
			color: #9e9e9e;
			border-radius: 5px;
			cursor: pointer;
			border: 1px solid #d2d2d2;
			display: inline-block;
		}

		.islogin .logout {
			position: relative;
			top: -28px;
			left: -50px;
			background-color: #fff;
			border: 1px solid #9e9e9e;
			border-radius: 5px;
			padding: 2px 5px;
			text-align: center;
		}

		.islogin .uimage {
			position: relative;
			top: -10px;
			border-radius: 25px;
			z-index: 4;
			transition: all 1s ease;
		}

		.islogin .uimage:hover {
			transform: rotateZ(360deg);
		}

		.button {
			text-decoration: none;
			font-size: 16px;
			line-height: 68px;
			color: #9e9e9e;
			text-align: center;
			padding: 5px;
			transition: all 100ms ease;
		}

		.button:hover {
			color: #f26552;
			border-bottom: 2px solid #f26552;
		}

		a,
		em,
		span,
		i,
		s {
			font-size: 12px;
			font-weight: normal;
			font-style: normal;
			color: #9e9e9e;
			text-decoration: none;
			outline: none;
		}

		ul {
			list-style: none;
			margin: 0;
			padding: 0;
		}

		.btypes {
			width: 1240px;
			height: 74px;
			background-color: #fff;
			position: relative;
			padding: 5px 30px 0;
			margin: 8em auto 0;
			overflow: hidden;
		}

		.btypes .fold {
			width: 60px;
			height: 25px;
			outline: none;
			border: 0;
			background-color: #fff;
			color: #9e9e9e;
			position: absolute;
			right: 10px;
			bottom: 9px;
		}

		.btypes li {
			float: left;
			margin-left: 15px;
			margin-top: 10px;
			width: 80px;
			height: 20px;
		}

		.btypes li a,
		.btypes li span {
			font-size: 15px;
			position: relative;
		}

		.btypes li a:hover {
			border-radius: 50px;
			color: #9e9e9e;
			border: 1px solid #9e9e9e;
			padding: 0 9px;
			left: -10px;
			line-height: 18px;
		}

		.btypes li span {
			background: #9e9e9e;
			border-radius: 50px;
			color: #fff;
			border: 1px solid #9e9e9e;
			padding: 0 9px;
			left: -10px;
			line-height: 18px;
		}

		.books {
			width: 1300px;
			height: 1000px;
			background-color: #fff;
			margin: 0 auto 0;
			position: relative;
			top: 30px;
		}

		.book,
		.book img,
		.book::after,
		.book::before {
			border-top-right-radius: 5px;
			border-bottom-right-radius: 5px;
		}

		.list-inline {
			display: table-cell;
			vertical-align: middle;
		}

		.list-inline {
			padding-left: 0;
			list-style: none;
		}

		.list-inline>li {
			display: inline-block;
			margin-left: 5em;
			margin-top: 2em;
		}

		.book {
			cursor: pointer;
			float: left;
			width: 156px;
			height: 208px;
			position: relative;
			background: #e3d1bd;
			z-index: 1;
			box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1), 0 9px 20px 0 rgba(0, 0, 0, 0.25);
			overflow: hidden;
			-webkit-transition: box-shadow 0.3s linear;
			transition: box-shadow 0.3s linear;
		}

		.book img {
			width: inherit;
			height: inherit;
			-webkit-transform-origin: 0 50%;
			-ms-transform-origin: 0 50%;
			transform-origin: 0 50%;
			-webkit-transform: rotateY(0);
			transform: rotateY(0);
			-webkit-transition: all 0.45s ease;
			transition: all 0.45s ease;
		}

		.book:hover {
			box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.25), 0 9px 20px 0 rgba(0, 0, 0, 0.45);
		}

		.book:hover img {
			-webkit-transform: rotateY(-25deg);
			transform: rotateY(-25deg);
			box-shadow: 1px 1px 5px 5px rgba(0, 0, 0, 0.2);
		}

		.book::after,
		.book::before {
			content: '';
			display: block;
			width: inherit;
			height: inherit;
			position: absolute;
			z-index: -1;
			top: 0;
			background: #e3d1bd;
			border: 1px solid #d9d9d9;
		}

		.book::before {
			left: -3px;
		}

		.book::after {
			left: -6px;
		}

		.pageContr {
			width: 170px;
			background-color: #fff;
			position: relative;
			margin: 5em auto 0;
		}

		.pageContr a,
		.pageContr span {
			font-size: 16px;
		}

		.totop {
			position: fixed;
			right: 120px;
			bottom: 60px;
			display: none;
		}
	</style>
</head>

<body>
	<div class="box">
		<div class="NavigationBar">
			<a href="/index"><img src="/static/images/web-logo.png" alt="logo" width="160px" height="32px"></a>
			<ul>
				<li><a class="button" href="/index">首页</a></li>
				<li><a class="button" href="/classify&btype=小说&page=1">分类</a></li>
				<li><a class="button" href="#">征文大赛</a></li>
				<li><a class="button" href="create">下载</a></li>
				<li>
					<form action="/search" method="GET">
						<input type="text" name="search_book" value="" class="search_book" id="search_book"
							placeholder="作者/书名">
					</form>
				</li>
				<li>
					<div class="islogin">
						{% if isLogin != 1 %}
						<a href="/login">
							<span id="unlogin_box" class="login_beffor">登录</span>
						</a>
						{% else %}
						<a href="/user_index&id={{ user.uid }}">
							<span id="login_box" class="logged_in">
								<img id="uimage" class="uimage" src="{{ user.uimage }}" width="50px" height="50px" />
								<a class="logout" id="logout" href="/logout">注销</a>
								<div id="login_box" class="login_affer">
									<a href="/user_index">
										<i></i>
										<s></s>
									</a>
								</div>
							</span>
						</a>
						{% endif %}
					</div>
				</li>
			</ul>
		</div>
	</div>
	<div class="btypes">
		<ul>
			{% for i in btypes %}
			{% if i != btype %}
			<li>
				<a href="/classify&btype={{ i }}&page=1">{{ i }}</a>
			</li>
			{% else %}
			<li>
				<span>{{ i }}</span>
			</li>
			{% endif %}
			{% endfor %}
		</ul>
		<button class="fold">展开</button>
	</div>
	<div class="books">
		<ul class="list-inline">
			{% for book in page %}
			<li class="book">
				<a href="/book_detail&id={{ book.id }}" target="blank" title="{{ book.bintro}}">
					<img src="{{ book.bpic }}" alt="">{{ book.bname }}</a>
			</li>
			{% endfor %}
		</ul>
	</div>
	<div class="pageContr">
		{% if page.has_previous %}
		<a href="/classify&btype={{ btype }}&page={{ page.previous_page_number }}">&lt;上一页</a>
		{% endif %}

		{% for pindex in page.paginator.page_range %}
		{% if pindex == page.number %}
		<span>{{ pindex }}</span>
		{% else %}
		<a href="/classify&btype={{ btype }}&page={{ pindex }}">{{ pindex }}</a>
		{% endif %}
		{% endfor %}

		{% if page.has_next %}
		<a href="/classify&btype={{ btype }}&page={{ page.next_page_number }}">下一页&gt;</a>
		{% endif %}
	</div>
	<img class="totop" src="/static/images/totop.png" alt="" />
</body>

</html>
